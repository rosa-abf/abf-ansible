---

- name: default | install rvm
  # shell: \curl -L https://get.rvm.io | bash -s stable
  # https://abf.io/abf/rvm/archive/rvm-rosa2014.1.tar.gz
  # https://abf.io/abf/rvm/archive/rosa2014.1.tar.gz
  shell: \curl -L https://get.rvm.io | bash -s -- --source abf.io/abf/rvm --branch rvm-rosa2014.1
  # shell: \curl https://abf.io/abf/rvm/raw/rosa2014.1/binscripts/rvm-installer | bash -s stable

- name: default | CentOS/RHEL 6, 64 Bit x86_64
  command: sudo rpm -Uvh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
  ignore_errors: true
  when: platform_name is defined and platform_name == "centos6.5" and ignore_epel is not defined

- name: default | install rvm requirements
  shell: rvm requirements

- name: default | install ruby
  shell: rvm install {{ ruby_version }}

- name: default | set default ruby
  shell: rvm ruby-{{ ruby_version }} do rvm use {{ ruby_version }} --default
